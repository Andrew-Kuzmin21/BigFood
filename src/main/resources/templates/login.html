<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Sing in</title>
  <link rel="stylesheet" th:href="@{/css/header.css}">
  <link rel="stylesheet" th:href="@{/css/main.css}">
  <link rel="stylesheet" th:href="@{/css/form.css}">
</head>
<body>

<div class="header">
  <div class="header__cont">
    <h1 class="header__cont__title">BigFood</h1>
  </div>
</div>

<div class="main">
<!--  <form th:action="@{/login}" method="post">-->
<!--    <h2 class="main_title">Sing in</h2>-->
<!--    <label>Email: <input type="email" name="email" autofocus/></label><br/>-->
<!--    <label>Password: <input type="password" name="password"/></label><br/>-->
<!--    <button type="submit">Sing in</button>-->

<!--    <a class="main__prev" href="/registration">Sing up</a>-->
<!--    <a class="main__prev" href="/home">Home</a>-->
<!--  </form>-->



  <form th:action="@{/login}" method="post">

<!--    <label>Email: <input type="email" name="email" placeholder="Email" id="emailInput" autofocus/></label><br/>-->
<!--    <label>Phone Number: <input type="text" name="phoneNumber" placeholder="Phone" id="phoneInput"/></label><br/>-->
<!--    <label>Password: <input type="password" name="password" placeholder="Password" required/></label><br/>-->

<!--    <input type="email" name="email" placeholder="Email" id="emailInput">-->
<!--    <input type="text" name="phoneNumber" placeholder="Phone" id="phoneInput">-->
    <input type="text" name="login" placeholder="Email или Phone">

    <input type="password" name="password" placeholder="Password" required>

    <button type="submit">Sign in</button>
  </form>

  <div class="switcher">
    <span id="byEmail">Вход по email</span> |
    <span id="byPhone" class="switcher__active">Вход по телефону</span>
  </div>

  <a class="main__prev" href="/registration">Sign up</a>
  <a class="main__prev" href="/home">Home</a>
</div>

<script>
  const byEmail = document.getElementById('byEmail');
  const byPhone = document.getElementById('byPhone');
  const emailInput = document.getElementById('emailInput');
  const phoneInput = document.getElementById('phoneInput');

  byEmail.addEventListener('click', () => {
    emailInput.style.display = 'block';
    emailInput.required = true;
    phoneInput.style.display = 'none';
    phoneInput.required = false;

    byEmail.classList.add('switcher__active');
    byPhone.classList.remove('switcher__active');
  });

  byPhone.addEventListener('click', () => {
    phoneInput.style.display = 'block';
    phoneInput.required = true;
    emailInput.style.display = 'none';
    emailInput.required = false;

    byPhone.classList.add('switcher__active');
    byEmail.classList.remove('switcher__active');
  });

  document.addEventListener('DOMContentLoaded', () => {
    phoneInput.style.display = 'block';
    phoneInput.required = true;
    emailInput.style.display = 'none';
    emailInput.required = false;

    byPhone.classList.add('switcher__active');
    byEmail.classList.remove('switcher__active');
  });
</script>

</body>
</html>